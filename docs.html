<html>

	<head>
		<title>
			iconPush documentation
		</title>
		
		<style>
			
			@font-face {
				font-family: "Charcoal CY";
				src: url("fonts/Charcoal.ttf") format("truetype");
			}

			@font-face {
				font-family: "Virtue";
				src: url("fonts/virtue.ttf") format("truetype");
			}

			@font-face {
			    font-family: "FranklinGothic-Book";
			    src: url("fonts/FranklinGothic-Book.ttf") format("truetype");
			}

			@font-face {
			    font-family: "Giovanni-Book";
			    src: url("fonts/Giovanni-Book.otf") format("opentype");
			}

			
		</style>
		
	</head>
	
	<body>
		<h1>
			<div style="font-family:FranklinGothic-Book,sans-serif">
				IconPush Documentation
			</div>
		</h1>
		
		<p>
			<div style="font-family:Giovanni-Book,serif">
				This is the documentation for <a href="docs.html" target=_blank>IconPush</a>, a visual search tool for 32x32 icons. 
			</div>
		</p>
		
		<h2>
			<div style="font-family:FranklinGothic-Book,sans-serif">
				Usage
			</div>
		</h2>
		
		<p>
			<div style="font-family:Giovanni-Book,serif">
				Choose a colour from the colour picker, click a pixel, and click Search to find icons with that pixel value. 
			</div>
		</p>
		
		<h2>
			<div style="font-family:FranklinGothic-Book,sans-serif">
				Icon database
			</div>
		</h2>
		<p>
			<div style="font-family:Giovanni-Book,serif">
				TensorFlow works really well with large datasets of images. Show me what you can do with these icons!
			</div>
		</p>
		<p>
			<div style="font-family:Giovanni-Book,serif">
				To get all 131,788 PNG files for the 32x32 icons, download the 96.6 MB zip file from Mega:
			</div>
			
			<div style="font-family:Giovanni-Book,serif">
				<a href="https://mega.nz/#!m00WwYzC!bax4RsCYbtrGSG-6h4INACI13ivNdOYSgMRbXIq9R4Q" target=_blank>PNGs32x32x32.zip</a>
			</div>
		</p>
		<p>
			<div style="font-family:Giovanni-Book,serif">
				You can also download 351 summary pages with 27x14 icons per page, for the 13-inch MacBook Air:
			</div>
			
			<div style="font-family:Giovanni-Book,serif">
				<a href="https://mega.nz/#!O0EjgYrb!0Bu9darA_RXdIesckGfcy-riQOwUNtMH3tOwluPNxFk" target=_blank>PNGs32x32x32_montage_378.zip</a>
			</div>
		</p>
		<p>
			<div style="font-family:Giovanni-Book,serif">
				There are also 6603 summary pages with 4x5 icons per page, for mobile devices:
			</div>
			
			<div style="font-family:Giovanni-Book,serif">
				<a href="https://mega.nz/#!f4UnUCIT!F2eKTYICVlcbqx5aS4L3ZLz-2CvHQ4KaCBSJoiYE0SQ" target=_blank>PNGs32x32x32_montage_20.zip</a>
			</div>
		</p>
		<p>
			<div style="font-family:Giovanni-Book,serif">
				If you want the 129.9 MB Icon Archiver 4.0 archive file, you can get that from Free.fr:
			</div>
			
			<div style="font-family:Giovanni-Book,serif">
				<a href="http://peterburk.free.fr/everyIcon.zip" target=_blank>everyIcon.zip</a>
			</div>
		</p>
		
		<h2>
			<div style="font-family:FranklinGothic-Book,sans-serif">
				History of IconPush
			</div>
		</h2>		
		
		<p>
			<div style="font-family:Giovanni-Book,serif">
				From the 10th of February 2001 to the 10th of October 2002, I collected icons. 
				This was a popular pastime in the days before Mac OS X, when icons had a maximum size of 32x32 pixels. 
			</div>
		</p>

		<p>
			<div style="font-family:Giovanni-Book,serif">
				I used a program called <a href="http://www.tucows.com/download.html?software_id=204361&t=2" target=_blank>Icon Archiver 4.0</a>, which could automatically scan a disk for icons and add them to a database. 
			</div>
		</p>
		
		<p>
			<a href="Icon Archiver Screenshot.png" target=_blank><img src="Icon Archiver Screenshot.png" width=400px></img></a>
		</p>
		
		<p>
			<div style="font-family:Giovanni-Book,serif">
				I was only 11 years old, and I never had a way to pay <a href="http://www.montalcini.com/" target=_blank>Alessandro Levi Montalcini</a> for his program, so I always had to wait for a few seconds while the program opened. 
			</div>
			<div style="font-family:Giovanni-Book,serif">
				If you're reading this, Alessandro, please get in touch! I don't have a job, so I still can't afford to pay you, but I'd like to thank you for introducing me to databases. 
			</div>
		</p>

		<p>
			<div style="font-family:Giovanni-Book,serif">
				As my collection grew, the database started to push the limits of my clamshell iBook G3. 
				Opening 132.5 MB of icons in only 192 MB of RAM was slow. When I upgraded to Mac OS 10.2 Jaguar, icon sizes grew to 512px, and I stopped collecting icons. 
			</div>
		</p>
		
		<p>
			<div style="font-family:Giovanni-Book,serif">
				I'm not as talented as <a href="https://en.wikipedia.org/wiki/Susan_Kare" target=_blank>Susan Kare</a>, but when the iPodLinux project wanted some icons for iPod Desktop (an alternative GUI to Podzilla), I drew a few in July 2004. 
			</div>
		</p>
		
		<p>
			<a href="iPodDesktop Icons.png" target=_blank><img src="iPodDesktop Icons.png" width=107px></img></a>
		</p>
		
		<p>
			<div style="font-family:Giovanni-Book,serif">
				The iPod used List view, whereas the iPhone uses Icon view. I'm surprised that collecting icons hasn't come back in fashion! 
			</div>
		</p>
		
		<p>
			<div style="font-family:Giovanni-Book,serif">
				My first computer was a Mac Plus in 1999, when I was 9 years old. My dad brought it home, and told me that if I could fix it, it was mine! But it only had a black and white screen. 
			</div>
			<div style="font-family:Giovanni-Book,serif">
				The family computer at the time was a Mac LC III, and its AppleColor High-Resolution RGB screen supported 4096 colours. 
			</div>
		</p>
		<p>
			<div style="font-family:Giovanni-Book,serif">
				When I got an iBook G3 in 2000, I was excited to finally see millions of colours!
			</div>
		</p>
		<p>
			<a href="peterB.jpg" target=_blank><img src="peterB.jpg" width=400px></img></a>
		</p>
		<p>
			<div style="font-family:Giovanni-Book,serif">
				The first colour icons were available on the Macintosh II in March 1987. The era of 32x32 icons ended in February 2003, when Mac OS 9.2 was no longer bundled with iMacs. 
			</div>
			<div style="font-family:Giovanni-Book,serif">
				In those days, the World Wide Web was just getting started, and dial-up connections were slow. Software was usually delivered on shareware CDs with magazines, such as MacWorld or MacFormat. 
			</div>
			<div style="font-family:Giovanni-Book,serif">
				If IconPush becomes popular, I'll collect icons from all my <a href="https://www.flickr.com/photos/150180606@N08/sets/72157698883865851" target=_blank>MacFormat CDs</a> and sort them by year. 
			</div>
		</p>

		<h2>
			<div style="font-family:FranklinGothic-Book,sans-serif">
				Technical details
			</div>
		</h2>		
		
		<p>
			<div style="font-family:Giovanni-Book,serif">
				Exporting from Icon Archiver wasn't easy. The PNG export function failed after a few thousand icons. Instead, I exported everything to Custom Folder Icons. 
			</div>
			<div style="font-family:Giovanni-Book,serif">
				I didn't have enough disk space on my old iBook for that, so I used <a href="https://archive.org/details/COIClassicOnIntelV4.0.1ChubbyBunny" target=_blank>COIV</a> (SheepShaver) with a 15 GB disk image. 
			</div>
		</p>
		<p>
			<div style="font-family: Courier,sans-serif;padding-left:0.81em;">
				dd if=/dev/zero of=15000Meg bs=1032192 count=15000
			</div>
		</p>
		<p>
			<div style="font-family:Giovanni-Book,serif">
				Icon Archiver made 660 folders with 200 icons each. 
			</div>
		</p>
		<p>
			<div style="font-family:Giovanni-Book,serif">
				I then used geticon from <a href="https://sveinbjorn.org/osxiconutils" target=_blank>osxiconutils</a> to convert the folder icons to ICNS files. 
			</div>
		</p>
		<p>
			<div style="font-family: Courier,sans-serif;padding-left:0.81em;">
				find Subfolders/Custom\ Icons\ Folder.1/ -execdir /Users/peter/Desktop/osxiconutils/bin/geticon {} /Users/peter/Desktop/osxiconutils/bin/Icons/Custom\ Icons\ Folder.1/{}.icns \;
			</div>
		</p>
		<p>
			<div style="font-family:Giovanni-Book,serif">
				Then I converted the ICNS files to PNGs using <a href="https://github.com/kornelski/libicns" target=_blank>icns2png</a>. 
			</div>
		</p>
		<p>
			<div style="font-family: Courier,sans-serif;padding-left:0.81em;">
				find PNGs/ -execdir icns2png -x {} \;
			</div>
		</p>
		<p>
			<div style="font-family:Giovanni-Book,serif">
				Next, I moved all the PNGs into a single folder. Special characters in filenames broke any shell script methods, so I ended up using Finder and "Keep Both". 
			</div>
			<div style="font-family:Giovanni-Book,serif">
				I'm now stuck with a few <a href="https://superuser.com/questions/1084243/cant-delete-file-with-strange-characters-in-name-nul-symbol" target=_blank>un-deletable files</a> that have the NUL character in their filename. 
			</div>
			<div style="font-family:Giovanni-Book,serif">
				A lot of files have similar names, which are all spaces, e.g. "     32x32x32.png". This is because MacFormat CDs would show the MacFormat logo in the folder. It was made of many 32x32 pieces, arranged together. It looked weird in list view. 
			</div>
		</p>
		<p>
			<div style="font-family:Giovanni-Book,serif">
				Next, I sorted the 32x32 icons into a separate folder, because some were 16x16 or other sizes. 
			</div>
		</p>
		<p>
			<div style="font-family:Giovanni-Book,serif">
				To convert the PNGs to TXT, I used the convert command from <a href="https://www.imagemagick.org/script/index.php" target=_blank>imagemagick</a>. 
			</div>
		</p>
		<p>
			<div style="font-family: Courier,sans-serif;padding-left:0.81em;">
				find . -name "*.png" -exec convert {} {}.txt \;
			</div>
		</p>
		<p>
			<div style="font-family:Giovanni-Book,serif">
				I then wrote <a href="txtToPixelValues.sh" target=_blank>txtToPixelValues.sh</a>, a bash script to turn the pixel values into a directory tree. This is very slow to run, so I probably should optimise it. 
			</div>
			<div style="font-family:Giovanni-Book,serif">
				The format is pixelValues/[columnNumber]/[rowNumber]/[hexColour][opacity].txt. For example, pixelValues/0/0/FFFFFFFF.txt
			</div>
		</p>
		<p>
			<div style="font-family: Courier,sans-serif;padding-left:0.81em;">
				find . -name "*.png" -exec ../txtToPixelValues.sh {} \;
			</div>
		</p>
		<p>
			<div style="font-family:Giovanni-Book,serif">
				There are too many pixelValues files to upload to Github (7.1 million files making a total of 65.51 GB). Therefore I used <a href="copyPixelValues16colours.sh" target=_blank>copyPixelValues16colours.sh</a> to limit the web version to only 16 colours. 
			</div>
		</p>
		<p>
			<div style="font-family: Courier,sans-serif;padding-left:0.81em;">
				./copyPixelValues16colours.sh
			</div>
		</p>
		<p>
			<div style="font-family:Giovanni-Book,serif">
				I also made some summary pages using montage from <a href="https://www.imagemagick.org/script/index.php" target=_blank>imagemagick</a>, in case you just want to scroll through lots of pictures. 
			</div>
			<div style="font-family:Giovanni-Book,serif">
				For that, I had to choose the number of icons per full-screen page (20 for mobile devices, 378 for MacBook Air), put them into folders with <a href="makeFoldersWithFileCount.sh" target=_blank>makeFoldersWithFileCount.sh</a>, and then combine each folder into a single image. 
			</div>
		</p>
		<p>
			<div style="font-family: Courier,sans-serif;padding-left:0.81em;">
				./makeFoldersWithFileCount.sh
			</div>
		</p>
		<p>
			<div style="font-family: Courier,sans-serif;padding-left:0.81em;">
				montage -geometry 32x32+10+10 -tile 4x5 PNGs32x32x32_subfolders_20/dir_002/*.png dir_002.png
			</div>
		</p>

		<h2>
			<div style="font-family:FranklinGothic-Book,sans-serif">
				Future work
			</div>
		</h2>		
		<p>
			<div style="font-family:Giovanni-Book,serif">
				I'd like to expand the icon database to include icons sorted by year from all my <a href="https://www.flickr.com/photos/150180606@N08/sets/72157698883865851" target=_blank>MacFormat CDs</a>.  
			</div>
			<div style="font-family:Giovanni-Book,serif">
				Another feature I'd like to add is to let people draw their own icons using the grid and export them to an HTML5 canvas for downloading as PNG. 
			</div>
			<div style="font-family:Giovanni-Book,serif">
				Other software <a href="https://en.wikipedia.org/wiki/List_of_software_palettes" target=_blank>palettes</a> from Windows or Amiga would be interesting, if I can find icon collections for those platforms. 
			</div>
			<div style="font-family:Giovanni-Book,serif">
				Pixel art <a href="https://en.wikipedia.org/wiki/Pixel-art_scaling_algorithms" target=_blank>scaling algorithms</a> are not available in <a href="https://www.lemkesoft.info/forum/viewtopic.php?f=25&t=5847" target=_blank>GraphicConverter</a> or <a href="https://www.imagemagick.org/discourse-server/viewtopic.php?t=23046" target=_blank>ImageMagick</a>. I wish the developers would add those features. 
			</div>
		</p>
		<p>
			<div style="font-family:Giovanni-Book,serif">
				Right now it's more important that I go back to writing job applications though. Please email me at <a href="mailto:peterburk@gmail.com">peterburk@gmail.com</a> if you're able to help me find a job. 
			</div>
		</p>
		
	</body>
</html>